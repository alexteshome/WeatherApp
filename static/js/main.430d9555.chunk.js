(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{134:function(e,t,n){e.exports=n(280)},280:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(24),s=n.n(o),i=n(77),c=n.n(i),l=n(119),u=n(19),p=n(20),d=n(22),h=n(21),m=n(23),f=n(46),y=n(13),E=(n(66),n(78)),b=n.n(E),g=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e){n.setState({address:e,error:""})},n.handleSelect=function(e){n.setState({address:e,isGeocoding:!0});var t=n.props.setFormLocation;Object(E.geocodeByAddress)(e).then(function(e){return t(e[0].formatted_address)}).then(function(){return n.setState({address:"",isGeocoding:!1})}).catch(function(e){return console.error("Error",e)})},n.handleError=function(e,t){console.log("Error from Google Maps API: ",e),n.setState({error:e},function(){t()})},n.state={address:"",isGeocoding:!1,error:""},n}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"search-bar"},a.a.createElement(b.a,{value:this.state.address,onChange:this.handleChange,onSelect:this.handleSelect,onError:this.handleError,searchOptions:{types:["(cities)"]},shouldFetchSuggestions:this.state.address.length>2},function(e){var t=e.getInputProps,n=e.getSuggestionItemProps,r=e.suggestions;return a.a.createElement("div",{className:"autocomplete-root"},a.a.createElement("input",Object.assign({className:"form-control"},t({placeholder:"Search a city..."}))),a.a.createElement("div",{className:"autocomplete-dropdown-container"},r.map(function(e){return a.a.createElement("div",Object.assign({},n(e),{className:"suggestion"}),a.a.createElement("span",null,e.description))})))}),this.state.error.length>0&&a.a.createElement("div",null,this.state.error),this.state.address&&this.state.isGeocoding&&this.props.createReportLocation())}}]),t}(a.a.Component),w=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).setFormLocation=function(t){var n=t.split(", ");e.setState({cityLoc:n[0],countryLoc:n[n.length-1]})},e.createReportLocation=function(){var t={cityLoc:e.state.cityLoc,countryLoc:e.state.countryLoc};e.props.setReportLocation(t)},e.state={cityLoc:"",countryLoc:""},e}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return a.a.createElement(g,{createReportLocation:this.createReportLocation,setFormLocation:this.setFormLocation})}}]),t}(a.a.Component),v=function(e){return a.a.createElement("div",null,a.a.createElement(y.g,{className:"jumbotron text-center"},a.a.createElement("font",{color:"white"},a.a.createElement("h1",{className:"display-1"},"City Forecast"),a.a.createElement("p",{className:"lead"},"Find the 5 day weather forecast for different cities ")),a.a.createElement(w,{classname:"search-bar",setReportLocation:e.setReportLocation}),a.a.createElement("br",null)))},j=function(e){var t=new Date(e.date);return a.a.createElement("div",null,a.a.createElement("b",null,a.a.createElement(y.a,{body:!0,className:"text-center",style:{boxShadow:"3px 5px black",background:"transparent",display:"inline-flex",width:"100%"}},a.a.createElement(y.d,null,t.toString().split(" ")[0]),a.a.createElement(y.b,null,t.toString().split(" ")[1]+" "+t.getDate()),a.a.createElement("img",{style:{display:"inline-block",margin:"0 auto",minWidth:"25%"},src:"http://openweathermap.org/img/w/".concat(e.icon,".png")}),a.a.createElement(y.c,null,Math.round(e.temperature)+"\xb0C"),a.a.createElement(y.c,null,e.description.charAt(0).toUpperCase()+e.description.slice(1)))))},O=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=[],t=this.props.list;if("undefined"==typeof t)return"";e.push(a.a.createElement(y.e,{xs:{size:6,offset:3},md:{size:2,offset:1},key:0},a.a.createElement(j,{date:t[0].dt_txt,temperature:t[0].main.temp-273.15,icon:t[0].weather[0].icon,description:t[0].weather[0].description})));for(var n=new Date,r=t.filter(function(e){return n.getDay()!==new Date(e.dt_txt).getDay()}),o=1;o<=4;o++)e.push(a.a.createElement(y.e,{xs:{size:6,offset:3},md:{size:2,offset:0},key:o+1},a.a.createElement(j,{date:r[8*o-1].dt_txt,temperature:r[8*o-1].main.temp-273.15,icon:r[8*o-1].weather[0].icon,description:r[8*o-1].weather[0].description})));return e}}]),t}(a.a.Component),x=function(e){return a.a.createElement("div",null,e.country&&e.city&&a.a.createElement("h5",null,"Location: ",e.city,", ",e.country),e.temperature&&a.a.createElement("h5",null,"Temperature: ",Math.round(e.temperature)+"\xb0C"),e.humidity&&a.a.createElement("h5",null,"Humidity: ",e.humidity," %"),e.pressure&&a.a.createElement("h5",null,"Pressure: ",e.pressure," hPA"),e.wind&&a.a.createElement("h5",null,"Wind: ",e.wind," m/s"),e.cloudiness&&a.a.createElement("h5",null,"Cloudiness: ",e.cloudiness," %"),e.description&&a.a.createElement("h5",null,"Conditions:  ",e.description),e.error&&a.a.createElement("h5",null,e.error))},k=n(284),L=n(286),R=n(275),C=n(15),S=n(276),N=n(285),D=n(282),F=n(281),W=function(e){return a.a.createElement(y.a,{body:!0,className:"text-center",style:{boxShadow:"3px 5px black",background:"transparent",display:"inline-flex",width:"100%",minWidth:"700px"}},a.a.createElement(k.a,{height:230},a.a.createElement(L.a,{data:e.data,margin:{top:5,right:30,left:20,bottom:30}},a.a.createElement(R.a,{dataKey:"time",stroke:"black"},a.a.createElement(C.a,{value:"Time",position:"bottom",offset:0})),a.a.createElement(S.a,{stroke:"black",label:{value:"Temperature (C)",angle:-90,position:"topleft"}}),a.a.createElement(N.a,{stroke:"grey",strokeDasharray:"3 3"}),a.a.createElement(D.a,null),a.a.createElement(F.a,{type:"monotone",dataKey:"temperature",stroke:"blue",activeDot:{r:8}}))))},z=n(133),A=n.n(z),M=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){if("undefined"===typeof this.props.city||"undefined"===typeof this.props.country)return"";for(var e,t,n,r=[],o=0;o<9;o++)e=new Date(this.props.list[o].dt_txt+" UTC"),t=A()(e,"H:MM"),n=Math.round(this.props.list[o].main.temp-273.15),r.push({time:t,temperature:n});return a.a.createElement(y.h,null,a.a.createElement(y.e,{xs:{size:8,offset:0},lg:{size:2,offset:1}},a.a.createElement(x,{temperature:this.props.temperature,city:this.props.city,country:this.props.country,humidity:this.props.humidity,pressure:this.props.pressure,wind:this.props.wind,cloudiness:this.props.cloudiness,description:this.props.description,error:this.props.error})),a.a.createElement(y.e,{lg:{size:8,offset:0},xs:"12"},a.a.createElement(W,{data:r})))}}]),t}(a.a.Component),G=n(85),P=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).fetchWeather=function(){var e=Object(l.a)(c.a.mark(function e(t,n){var r,a,o,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!n){e.next=16;break}return r="4f3ccf59baf3fe3b39327995560feed7",a=Object(G.getCode)(n),e.next=5,fetch("https://cors-anywhere.herokuapp.com/http://api.openweathermap.org/data/2.5/weather?q=".concat(t,",").concat(a,"&appid=").concat(r));case 5:return o=e.sent,e.next=8,fetch("https://cors-anywhere.herokuapp.com/http://api.openweathermap.org/data/2.5/forecast?q=".concat(t,",").concat(a,"&appid=").concat(r));case 8:return s=e.sent,e.next=11,o.json();case 11:return e.t0=e.sent,e.next=14,s.json();case 14:return e.t1=e.sent,e.abrupt("return",{weatherResponse:e.t0,forecastResponse:e.t1});case 16:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n.setReportLocation=function(e){n.fetchWeather(e.cityLoc,e.countryLoc).then(function(e){n.setState({temperature:e.weatherResponse.main.temp-273.15,city:e.weatherResponse.name,country:Object(G.getName)(e.weatherResponse.sys.country),humidity:e.weatherResponse.main.humidity,pressure:e.weatherResponse.main.pressure,wind:e.weatherResponse.wind.speed,cloudiness:e.weatherResponse.clouds.all,description:e.weatherResponse.weather[0].description,list:e.forecastResponse.list,error:""})}).catch(function(e){return console.log(e.message)})},n.state={city:void 0,country:void 0,temperature:void 0,humidity:void 0,pressure:void 0,wind:void 0,cloudiness:void 0,description:void 0,icon:void 0,list:void 0,error:void 0},n.fetchWeather=n.fetchWeather.bind(Object(f.a)(Object(f.a)(n))),n}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"font-wrapper"},a.a.createElement(v,{setReportLocation:this.setReportLocation}),a.a.createElement("br",null),a.a.createElement("h2",{style:{textAlign:"center"}},function(){if("undefined"!==typeof e.state.city||"undefined"!==typeof e.state.country)return"24 Hour Forecast"}()),a.a.createElement(y.f,{fluid:!0},a.a.createElement(M,{temperature:this.state.temperature,city:this.state.city,country:this.state.country,humidity:this.state.humidity,pressure:this.state.pressure,wind:this.state.wind,cloudiness:this.state.cloudiness,description:this.state.description,list:this.state.list,error:this.state.error}),a.a.createElement("br",null),a.a.createElement("h2",{style:{textAlign:"center"}},function(){if("undefined"!==typeof e.state.city||"undefined"!==typeof e.state.country)return"5 Day Forecast"}()),a.a.createElement(y.h,null,a.a.createElement(O,{list:this.state.list}))),a.a.createElement("br",null))}}]),t}(a.a.Component);n(278),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},66:function(e,t,n){}},[[134,2,1]]]);
//# sourceMappingURL=main.430d9555.chunk.js.map